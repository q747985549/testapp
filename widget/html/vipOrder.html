<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="format-detection" content="telephone=no"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Document</title></head><body><script src="../script/rem.js"></script><script src="../script/api.js"></script><script src="../script/aui-slide.js"></script><script src="../script/vue.js"></script><script src="../script/swiper.min.js"></script><script src="../script/coi.js"></script><link rel="stylesheet" href="../css/style.css"/><link rel="stylesheet" href="../css/api.css"/><link rel="stylesheet" href="../css/aui-slide.css"/><link rel="stylesheet" href="../css/swiper.min.css"/><style>body,html{height:100%;background:#f8f8f8!important}.confirm{padding:.2rem 0}.confirm .address{width:100%;background:#fff;height:1.57rem;display:flex;align-items:center;justify-content:space-between;padding:0 .3rem}.confirm .address em{font-size:.28rem;color:#999}.confirm .address .address-con{width:90%}.confirm .address .address-con h2{font-size:.28rem;color:#3c3c3c;margin-bottom:.2rem}.confirm .address .address-con .text span{font-size:.28rem;color:#999;display:inline-block;margin-right:.4rem}.confirm .address .xzaddress{width:10%;height:100%;display:flex;align-items:center;justify-content:center}.confirm .address img{width:.2rem}.confirm .order{width:100%;padding-bottom:1.2rem}.confirm .order .item{background:#fff;padding:.4rem .3rem;margin-top:.2rem}.confirm .order .item .item-img{width:1.69rem}.confirm,.confirm .order .item .item-img img,body,html{width:100%}.confirm .order .item .item-text{width:72%}.confirm .order .item .item-text h2{font-size:.26rem;color:#3c3c3c}.confirm .order .item .item-text h5{font-size:.22rem;color:#999;margin:.2rem 0}.confirm .order .item,.confirm .order .item .item-text .price,.confirm .settlement{width:100%;display:flex;align-items:center;justify-content:space-between}.confirm .order .item .item-text .price em{font-size:.24rem;color:#f8526e}.confirm .order .item .item-text .price span{font-size:.26rem;color:#999}.confirm .settlement{height:1.1rem;background:#fff;position:fixed;bottom:0;left:0;padding:0 .3rem;box-shadow:0 -1px 0 0 rgba(210,210,210,.5)}.confirm .settlement .l span{font-size:.3rem;color:#3c3c3c}.confirm .settlement .l em{font-size:.3rem;color:#f8526e}.confirm .settlement .l h2{display:inline-block;font-size:.36rem;color:#f8526e}.confirm .settlement .r{width:2.3rem;height:.76rem;background:linear-gradient(134deg,#ec008c 0%,#fc6767 100%);border-radius:.42rem;font-size:.3rem;color:#fff;text-align:center;line-height:.76rem}</style><div id="vm"><div class="header-o"> <div class="l" onclick="closeWin()" tapmode="tapmode"><img src="../image/jt.png"/></div><h1 id="headerTitle">确认订单</h1></div><div class="header-bottom"></div><script>function closeWin(){
    api.closeWin();
}

function openWin(url){
    api.openWin({
        name: 'test',
        url: url,
        bgColor:'#ffffff',
        pageParam: {
            name: 'test'
        }
    });
}</script><div class="confirm"><div class="address"><em v-if="!orderDetails.address" @click="owin(&quot;personal&quot;,&quot;personal.html&quot;)">请选择收货地址</em><div class="address-con" v-else="v-else"><h2 class="ellipsis">{{orderDetails.address}}</h2><div class="text"><span>{{user.nickname}}</span><span>{{user.mobile}}</span></div></div><div class="xzaddress"><img src="../image/right.png" alt="" @click="owin(&quot;personal&quot;,&quot;personal.html&quot;)"/></div></div><div class="order"><div class="item" v-for="item in info"><div class="item-img"><img :src="imgUrl+item.image" alt=""/></div><div class="item-text"><h2>{{item.name}}</h2><h5> </h5><div class="price"><em>¥{{item.price}}</em></div></div></div></div><div class="settlement"><div class="l"><span>{{orderDetails.is_earnest}}</span><em>:¥ </em><h2>{{orderDetails.price}}</h2></div><div class="r" @click="owin(&quot;payment&quot;,&quot;payment.html&quot;,{id:orderDetails.order_id,type:type})">结算</div></div></div></div><script>apiready=function(){$api.fixStatusBar($api.dom(".header-o"));var i=new Vue({el:"#vm",data:{imgUrl:$api.imgUrl,user:{},info:[],orderDetails:{},type:api.pageParam.params.type,addrId:""},created:function(){this.getData()},methods:{getData:function(){var d=this,a=api.pageParam.params.id;"vip"==d.type?$api.ajax("/api/goods/buy_vip",{goods_id:a,addr:d.addrId,order_id:d.orderDetails.order_id},function(a){api.toast({msg:a.msg}),200==a.code&&(d.user=a.data.user,d.info=a.data.info,d.orderDetails=a.data)}):$api.ajax("/api/goods/tail_money",{goods_id:a,addr:d.addrId,order_id:d.orderDetails.order_id},function(a){api.toast({msg:a.msg}),200==a.code&&(d.user=a.data.user,d.info=a.data.info,d.orderDetails=a.data)})},establish:function(){var a=this,d=api.pageParam.params.id;"vip"==a.type?$api.ajax("/api/goods/buy_vip",{goods_id:d,addr:a.addrId},function(a){api.toast({msg:a.msg}),a.code}):$api.ajax("/api/goods/tail_money",{goods_id:d,addr:a.addrId},function(a){api.toast({msg:a.msg}),a.code})}}});api.addEventListener({name:"address"},function(a,d){i.addrId=a.value.params.addr_id,i.address=a.value.params.address.province+a.value.params.address.city+a.value.params.address.area+a.value.params.address.address,i.establish()})},window.owin=$api.owin;</script></body></html>