<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="format-detection" content="telephone=no"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta http-equiv="X-UA-Compatible" content="ie=edge"/><title>Document</title></head><body><script src="../script/rem.js"></script><script src="../script/api.js"></script><script src="../script/aui-slide.js"></script><script src="../script/vue.js"></script><script src="../script/swiper.min.js"></script><script src="../script/coi.js"></script><link rel="stylesheet" href="../css/style.css"/><link rel="stylesheet" href="../css/api.css"/><link rel="stylesheet" href="../css/aui-slide.css"/><link rel="stylesheet" href="../css/swiper.min.css"/><style>body,html{background:#eb1c26 url(../image/bg1.png) no-repeat;background-size:100%;position:relative}#header{padding:.23rem .3rem;position:fixed;z-index:10}#header .return{width:.6rem;height:.6rem;background:rgba(0,0,0,.2);border-radius:50%;overflow:hidden;display:flex;align-items:center}#header img{width:.25rem;display:block;margin-left:.15rem}#header,.member,body,html{width:100%}.member .member-con,.member .member-con ul,.member .member-con ul li{display:flex;flex-flow:column;align-items:center}.member .member-con{min-height:90%;padding:.3rem 0;position:absolute;top:1rem;left:0;width:100%}.member .member-con h2{font-size:.34rem;color:#3c3c3c;text-align:center;font-weight:600;margin:.4rem 0}.member .member-con ul{width:100%;justify-content:center}.member .member-con ul li{width:90%;margin-bottom:.3rem;border-radius:.15rem;overflow:hidden}.member .member-con ul li .member-img{width:130%}.member .member-con ul li img{width:100%;display:block;margin:0 auto}.member .member-con ul li .text{width:100%;padding:.1rem .2rem;background:linear-gradient(134deg,#48b3fb 0%,#0169da 100%)}.member .member-con ul li .text h4{font-size:.26rem;color:#fff}.member .member-con ul li .text span{display:block;font-size:.24rem;color:#0169da;background:#fff;width:1.8rem;text-align:center;line-height:.6rem;border-radius:.1rem;margin-top:.1rem}</style><div id="vm"><div id="hh"></div><div id="header"><div class="return" onclick="closeWin()" tapmode="tapmode"><img src="../image/jt.png" alt=""/></div></div><div class="member mg"><div class="member-con"><ul><li v-for="item in member"><div class="member-img"><img :src="imgUrl+item.image" alt="" @click="owin(&quot;memberDetails&quot;,&quot;memberDetails.html&quot;,{id:item.id})"/></div><div class="text"><h4>商品详情： {{item.desc}}</h4><h4>商品售价： ¥{{item.price}}</h4><h4>说明： {{item.explain}}</h4><h4>支付定金： ¥{{item.vip_earnest}}</h4><span v-if="item.vip_type==1&amp;&amp;item.need_vip_earnest==2&amp;&amp;item.continue==false&amp;&amp;item.state==true" @click="payMember({id:item.id,need:item.need_vip_earnest,price:item.vip_earnest,continue:item.continue,vip_type:item.vip_type})">支付定金</span><span v-if="item.vip_type==2&amp;&amp;item.need_vip_earnest==2&amp;&amp;item.continue==false&amp;&amp;item.state==true" @click="payMember({id:item.id,need:item.need_vip_earnest,price:item.vip_earnest,continue:item.continue,vip_type:item.vip_type})">支付定金</span><span v-if="item.vip_type==1&amp;&amp;item.need_vip_earnest==2&amp;&amp;item.continue==true&amp;&amp;item.state==true" @click="payMember({id:item.id,need:item.need_vip_earnest,price:item.vip_earnest,continue:item.continue,vip_type:item.vip_type})">支付尾款</span><span v-if="item.vip_type==2&amp;&amp;item.need_vip_earnest==2&amp;&amp;item.continue==true&amp;&amp;item.state==true" @click="payMember({id:item.id,need:item.need_vip_earnest,price:item.vip_earnest,continue:item.continue,vip_type:item.vip_type})">支付尾款</span><span v-if="item.vip_type==1&amp;&amp;item.state==false">已经是会员</span><span v-if="item.vip_type==2&amp;&amp;item.state==false">已经是会员</span></div></li></ul></div></div><script>function closeWin(){
    api.closeWin();
}</script></div><script>apiready=function(){$api.fixStatusBar($api.dom("#hh"));var i=new Vue({el:"#vm",data:{imgUrl:$api.imgUrl,member:[],userLevel:""},created:function(){this.getData()},methods:{getData:function(){var a=this;$api.loading("正在加载..."),$api.ajax("/api/goods/index",{v:2},function(e){200==e.code&&(a.member=e.data.data,a.userLevel=e.data.user_level,$api.closeing())})},payMember:function(i){2==i.need&&0==i.continue?api.confirm({title:"支付定金",msg:"定金金额:"+i.price+"元",buttons:["确定","取消"]},function(e,a){1==e.buttonIndex&&api.openWin({name:"vipOrder",url:"./vipOrder.html",pageParam:{params:{id:i.id,type:"vip"}}})}):2==i.need&&1==i.continue?api.confirm({title:"支付尾款",msg:"是否尾款金额?",buttons:["确定","取消"]},function(e,a){1==e.buttonIndex&&api.openWin({name:"vipOrder",url:"./vipOrder.html",pageParam:{params:{id:i.id,type:"tail_money"}}})}):api.openWin({name:"vipOrder",url:"./vipOrder.html",pageParam:{params:{id:i.id,type:"vip"}}})}}});api.addEventListener({name:"viewappear"},function(e,a){i.getData()})},window.owin=$api.owin;</script></body></html>